# NWT - 25.1.2024

## OSPF ü§°
- ist ein **Link State Vector** Protokoll
  - RIP w√§re ein **Distance Vector** Protokoll (hei√üt, dass es Hops als Metrik benutzt)
  - Die Metrik sind w√§hlbare Kosten (man kann als Administrator w√§hlen, welche Leitungen bevorzugt werden soll)
- geeignet auch f√ºr gro√üe Netzwerke
- erlaubt **Lastverteilung**
- **Subnet Mask** wird weitergeleitet
- schnelle Konvergenz (Die Router erfahren schnell von √Ñnderungen)
- hat ein **hierarchisches Konzept**

### Unterteilung in Areas
- in jedem OSPF-Netz gibt es ein zentrales **Backbone-Area** (Area 0)
- Jedes Area muss mit dem Backbone Area verbunden sein
- Area Border Router (ABR)
  - Ein Router, der zwei Areas verbindet
- Autonomous System Border Router (ASBR)
  - Ein ABR, wobei er ein Area zu einem System verbindet, das kein **OSPF** kann
- Die Router in einem Area haben alle identische Informationen √ºber die Area in der sie sind
  - Das hei√üt: ein ABR hat die Informationen √ºber zwei Areas

### Keine Ahnung welche √úberschrift ü§°
- Nachbarschafts Database
  - show ip ospf neighbour
- Link State Database
  - Status und Kosten zu allen Links des Areas
- Topologie Map
  - Macht jeder Router f√ºr sich
  - Kann man sich als eine Karte vorstellen, wo man alle Stra√üenverbindungen sieht
- Forwarding Database
  - Ist die Routing-Tabelle mit den besten Routen

### OSPF-Multicasts
- f√ºr alle **OSPF-Router** eines Segments
  - **224.0.0.5**
- f√ºr den **Designated Router**
  - **224.0.0.6**
> [!WARNING]
> Was ist ein Designated Router?

### Konfigurieren
- router ospf <process-id>
  - Typischerweise 1 f√ºr process-id
- alle Router ben√∂tigen einzigartige IPs und Router-IDs
  - Cisco macht die Router-ID automatisch durch die IP
> [!NOTE]
> √Ñndern von der Router-ID w√§hrend des Betriebs von OSPF ist nicht zu empfehlen.

### OSPF Pakete
- Es gibt verschiedene OSPF Pakete
  - Hello
  - DBD (Database Description Packet)
  - LSR (Link State Request)
  - LSU (Link State Update)
  - LSACK
 
### Nachbarschaft
- Ein ABR hat zwei Nachbar-Router (einer in jedem Area)
- OSPF-Router schicken Hello-Pakete aus
- Ein Router wird zum **Designated Router** (nach der ID oder Konfiguration)
- Nachbarschaftsstatus
  - Down - noch kein Hello Paket erhalten
  - Attempt - Hello gesendet, keines erhalten
  - Init - Hello Pakete anderer Router erhalten
  - Two-Way - Hello-Pakete mit eigener Router-ID erhalten
  - ExStart - Nachbarschaft erfolgreich ausgehandelt
  - ExChange - Datenbanken austauschen
  - Loading - Wenn der Designated Router Infos braucht
  - Full Adjacency
